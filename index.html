<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Portfolio</title>
    <link rel="stylesheet" href="style.css" />
    <script defer src="script.js"></script>
    <script defer src = "sciptLanguage.js"></script>
  </head>

  <body>
    <!-- Navigation -->
    <header>
      <nav class="navbar">
        <h1 class="logo">Lee Wei Xuan</h1>
        <ul class="nav-links">
          <li>
            <div class="lang-switcher">
              <button onclick="setLanguage('en')">EN</button>
              <button onclick="setLanguage('zh')">中文</button>
              <button onclick="setLanguage('jp')">日本語</button>
            </div>
          </li>
        </ul>
      </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <h2 data-key="hero_title">Hello, This is <span>Lee Wei Xuan</span></h2>
      <p data-key="hero_desc">
        I create games, interactive experiences, and websites.
      </p>
      <a href="#projects" class="btn" data-key="view_work">View My Work</a>
    </section>

    <!-- About Section -->
    <section id="about" class="section reveal">
      <h2 id="HoverEffect" data-key="about_title">About Me</h2>
      <p data-key="about_desc">
        I am a developer who loves creating unique and engaging experiences. I
        specialize in Unity, game design, and web development.
      </p>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="section reveal">
      <h2 data-key="projects_title">Projects</h2>
      <div class="project-grid">
        <button class="project-card" onclick="openProject('AXERAS')">
          <h3 data-key="project1_title">Project One</h3>
          <p data-key="project1_desc">A brief description of this project.</p>
        </button>

        <button class="project-card" onclick="openProject('VirtualEscape')">
          <h3 data-key="project2_title">Project Two</h3>
          <p data-key="project2_desc">A brief description of this project.</p>
        </button>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section reveal">
      <h2 data-key="contact_title">Contact</h2>
      <p>
        Email:
        <a
          href="https://mail.google.com/mail/u/0/?tab=rm&ogbl#inbox?compose=new"
          target="_blank"
          >leeweixuan9@gmail.com</a
        >
      </p>
      <br />
      <p>Numbers: +60 17-837 4593</p>
      <br />
      <p>
        Github:
        <a href="https://github.com/AlwaysBeHappy0420" target="_blank">
          https://github.com/AlwaysBeHappy0420</a
        >
      </p>
    </section>

    <footer>
      <p>© 2025 LeeWeiXuan. All rights reserved.</p>
    </footer>

    <!--<img id="leftwheel" src="wheel.png" alt="Wheel">-->
    <!--<img id="rightwheel" src="wheel.png" alt="Wheel">-->

    <div id="projectOverlay" class="project-overlay">
      <h2 id="overlayTitle">Project Title</h2>

      <div class="overlay-content">
        <img id="overlayImage" src="" alt="" />
        <p id="overlayDesc" data-key="project_desc"></p>

        <p><strong>Tools:</strong> <span id="overlayTools"></span></p>

        <div class="overlay-buttons">
          <button onclick="closeProject()">Close</button>
        </div>
      </div>
    </div>

    <!--<a href="Resume_LeeWeiXuan_2025.pdf" target="_blank" rel="noopener noreferrer">View or Download PDF Document</a>-->

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        setLanguage("en");
      });
      // Wheel rotation
      window.addEventListener("scroll", () => {
        //checkIfCentered();

        // Text highlight effect
        const elements = document.querySelectorAll(".section h2"); // All section headings
        const secondElements = document.querySelectorAll(".section p");
        const viewportCenter = window.innerHeight / 2.5;

        elements.forEach((el) => {
          const rect = el.getBoundingClientRect();
          const elementCenter = rect.top + rect.height / 2;
          const offset = 80; // tolerance in px

          if (
            elementCenter >= viewportCenter - offset &&
            elementCenter <= viewportCenter + offset
          ) {
            el.classList.add("highlight");
          } else {
            el.classList.remove("highlight");
          }
        });

        secondElements.forEach((el) => {
          const rect = el.getBoundingClientRect();
          const elementCenter = rect.top + rect.height / 2;
          const offset = 80; // tolerance in px

          if (
            elementCenter >= viewportCenter - offset &&
            elementCenter <= viewportCenter + offset
          ) {
            el.classList.add("Wordshighlight");
          } else {
            el.classList.remove("Wordshighlight");
          }
        });
      });

      function setLanguage(lang) {
        document.querySelectorAll("[data-key]").forEach((el) => {
          const key = el.getAttribute("data-key");
          el.innerHTML = translations[lang][key];
        });

        localStorage.setItem("language", lang);
        savedLang = lang;
      }

      function checkIfCentered() {
        const textElement = document.querySelector("#myText");
        const rect = textElement.getBoundingClientRect();
        const viewportHeight = window.innerHeight;

        // Calculate the vertical center of the viewport
        const viewportCenter = viewportHeight / 2;

        // Calculate the vertical center of the element
        const elementCenter = rect.top + rect.height / 2;

        // Check if element center is within a certain range of viewport center
        const offset = 50; // tolerance in pixels

        if (
          elementCenter >= viewportCenter - offset &&
          elementCenter <= viewportCenter + offset
        ) {
          element.classList.add("highlight");
        } else {
          element.classList.remove("highlight");
        }
      }

      function openProject(key) {
        let p = projectLanguage[savedLang][key];
        document.getElementById("overlayTitle").innerText = p.title;
        document.getElementById("overlayDesc").innerText = p.desc;
        document.getElementById("overlayTools").innerText = p.tools;
        document.getElementById("overlayImage").src = p.image;

        document.getElementById("projectOverlay").classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeProject() {
        document.getElementById("projectOverlay").classList.remove("active");
        document.body.style.overflow = "auto";
      }
    </script>
  </body>
</html>
